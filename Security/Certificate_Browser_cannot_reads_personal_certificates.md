#Browser cannot read personal certificates

`Windows` `Microsoft Management Console` `Personal certificates` `个人证书`

##问题现象
* 将PKCS12证书文件安装到“个人”。（双击安装或者右键安装）

* 通过浏览器进入“证书管理”发现个人中并没有刚刚安装的证书。

* 通过MMC查看则能够看到刚刚安装的证书。（如何通过MMC管理证书，请参看msdn：[如何：使用 MMC 管理单元查看证书](http://msdn.microsoft.com/zh-cn/library/ms788967(v=vs.110\).aspx "如何：使用 MMC 管理单元查看证书")

##原因分析

* 安装到“个人”下的证书是计算机系统登录用户的证书，通常拥有私钥。一个简单的判断方案是，双击打开证书，可以看到“常规”页面的“有效期”下方有把小钥匙，后面有一句话“您有一个与该证书对应的私钥。”

* 如果你将一个不包含私钥的PKCS12证书强行安装到“个人”下（即不是默认的“根据证书类型，自动选择证书存储”，而是人工选择证书存储位置），虽然也能安装成功，但是浏览器将不会正常读取。

* 对于一个不包含私钥的PKCS12证书，系统默认是安装在“其他人”中（因为没有私钥）。这里指的是终端证书（Subject Type=End Entity），不是CA（Subject Type=CA）哦。

* 题外话：对于自签名证书，系统默认是安装在“中级证书颁发机构”中，而不是通常你所希望的“受信任的根证书颁发机构”。这个时候你需要人工选择一下存储位置。

<br>2014-08-05
